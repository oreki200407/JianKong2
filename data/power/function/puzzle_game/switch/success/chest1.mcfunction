$execute if items block ~ ~ ~ container.$(up) echo_shard[custom_model_data={strings:["20"]}] run item replace block ~ ~ ~ container.$(switch) with echo_shard[custom_data={number:$(switch)},custom_model_data={strings:["20"]},tooltip_display={hide_tooltip: true}]
$execute if items block ~ ~ ~ container.$(up) echo_shard[custom_model_data={strings:["20"]}] run return run item replace block ~ ~ ~ container.$(up) with echo_shard[custom_data={number:$(up)},custom_model_data={strings:["$(piece)"]},tooltip_display={hide_tooltip: true}]

$execute if score #switch puzzle_game matches ..15 if items block ~ ~ ~ container.$(down) echo_shard[custom_model_data={strings:["20"]}] run item replace block ~ ~ ~ container.$(switch) with echo_shard[custom_data={number:$(switch)},custom_model_data={strings:["20"]},tooltip_display={hide_tooltip: true}]
$execute if score #switch puzzle_game matches ..15 if items block ~ ~ ~ container.$(down) echo_shard[custom_model_data={strings:["20"]}] run return run item replace block ~ ~ ~ container.$(down) with echo_shard[custom_data={number:$(down)},custom_model_data={strings:["$(piece)"]},tooltip_display={hide_tooltip: true}]

$execute if score #switch puzzle_game matches 20..24 if items block ~1 ~ ~ container.$(down) echo_shard[custom_model_data={strings:["20"]}] run item replace block ~ ~ ~ container.$(switch) with echo_shard[custom_data={number:$(switch)},custom_model_data={strings:["20"]},tooltip_display={hide_tooltip: true}]
$execute if score #switch puzzle_game matches 20..24 if items block ~1 ~ ~ container.$(down) echo_shard[custom_model_data={strings:["20"]}] run return run item replace block ~1 ~ ~ container.$(down) with echo_shard[custom_data={number:$(down)},custom_model_data={strings:["$(piece)"]},tooltip_display={hide_tooltip: true}]

function power:puzzle_game/switch/success/root with storage jk2:data root.monitor.puzzle_game